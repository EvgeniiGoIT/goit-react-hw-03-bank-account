(this["webpackJsonpgoit-react-hw-03-bank-account"]=this["webpackJsonpgoit-react-hw-03-bank-account"]||[]).push([[0],{11:function(e,t,a){e.exports={history:"TransactionHistory_history__hbEa1",tableRow:"TransactionHistory_tableRow__3_PHk",tableHeading:"TransactionHistory_tableHeading__11WHq TransactionHistory_tableRow__3_PHk"}},17:function(e,t,a){e.exports={dashboard:"Dashboard_dashboard__1-Imp"}},21:function(e,t,a){e.exports=a(33)},3:function(e,t,a){e.exports={controls:"Controls_controls__2gW6X",input:"Controls_input__3iFRw",button:"Controls_button__7MFiM"}},33:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),c=a(2),o=a.n(c),s=a(13),l=a(20),i=a(6),u=a(7),b=a(9),m=a(8),p=a(10),h=a(16),_=a.n(h),d=a(12),f=(a(28),{deposit:"deposit",withdraw:"withdraw"}),y={zero:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0441\u0443\u043c\u043c\u0443 \u0434\u043b\u044f \u043f\u0440\u043e\u0432\u0435\u0434\u0435\u043d\u0438\u044f \u043e\u043f\u0435\u0440\u0430\u0446\u0438\u0438!",noEnough:"\u041d\u0430 \u0441\u0447\u0435\u0442\u0443 \u043d\u0435\u0434\u043e\u0441\u0442\u0430\u0442\u043e\u0447\u043d\u043e \u0441\u0440\u0435\u0434\u0441\u0442\u0432 \u0434\u043b\u044f \u043f\u0440\u043e\u0432\u0435\u0434\u0435\u043d\u0438\u044f \u043e\u043f\u0435\u0440\u0430\u0446\u0438\u0438!"},E=a(17),v=a.n(E),O=a(3),w=a.n(O),g=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(b.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={value:""},a.saveInputValue=function(e){var t=e.currentTarget.value;a.setState({value:t})},a.sendTransaction=function(e,t){e(+a.state.value,t),a.setState({value:""})},a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this,t=this.props.onTransaction,a=this.state.value;return r.a.createElement("section",{className:w.a.controls},r.a.createElement("input",{className:w.a.input,type:"number",name:"amount",value:a,onChange:this.saveInputValue}),r.a.createElement("button",{className:w.a.button,type:"button",onClick:function(){return e.sendTransaction(t,f.deposit)}},"Deposit"),r.a.createElement("button",{className:w.a.button,type:"button",onClick:function(){return e.sendTransaction(t,f.withdraw)}},"Withdraw"))}}]),t}(n.Component),j=a(4),x=a.n(j),T=function(e){var t=e.income,a=e.expenses,n=e.balance,c=function(e){return e.toFixed(2)};return r.a.createElement("section",{className:x.a.balance},r.a.createElement("span",{className:x.a.income},r.a.createElement("span",{role:"img","aria-label":"jsx-a11y/accessible-emoji"},"\u2b06\ufe0f"),c(t)," $"),r.a.createElement("span",{className:x.a.expenses},r.a.createElement("span",{role:"img","aria-label":"jsx-a11y/accessible-emoji"},"\u2b07\ufe0f"),c(a)," $"),r.a.createElement("span",{className:x.a.balance__text},"Balance: ",c(n)," $"))},k=a(11),N=a.n(k),S=function(e){var t=e.items;return r.a.createElement("table",{className:N.a.history},r.a.createElement("thead",null,r.a.createElement("tr",{className:N.a.tableHeading},r.a.createElement("th",null,"Transaction"),r.a.createElement("th",null,"Amount"),r.a.createElement("th",null,"Date"))),r.a.createElement("tbody",null,t.map((function(e){var t=e.id,a=e.type,n=e.amount,c=e.date;return r.a.createElement("tr",{className:N.a.tableRow,key:t},r.a.createElement("td",null,a),r.a.createElement("td",null,n.toFixed(2)," $"),r.a.createElement("td",null,c))}))))};function D(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}var H=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(b.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={transactions:[],balance:0},a.handleTransaction=function(e,t){a.checkTransaction(e,t)},a.checkTransaction=function(e,t){var n=a.state.balance;!e||e<0?Object(d.b)(y.zero):t===f.withdraw&&e>n?Object(d.b)(y.noEnough):a.saveTransaction(e,t)},a.saveTransaction=function(e,t){var n=a.setTransaction(e,t);a.setState((function(a){return{transactions:[].concat(Object(l.a)(a.transactions),[n]),balance:t===f.deposit?a.balance+e:a.balance-e}}))},a.setTransaction=function(e,t){return{id:_()(),type:t,amount:e,date:(new Date).toLocaleString()}},a.incomeExpenses=function(e){return e.reduce((function(e,t){return function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?D(a,!0).forEach((function(t){Object(s.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):D(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},e,Object(s.a)({},t.type,t.amount+e[t.type]))}),{deposit:0,withdraw:0})},a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=localStorage.getItem("state");e&&this.setState(JSON.parse(e))}},{key:"componentDidUpdate",value:function(e,t){t!==this.state&&localStorage.setItem("state",JSON.stringify(this.state))}},{key:"render",value:function(){var e=this.state,t=e.transactions,a=e.balance,n=this.incomeExpenses(t),c=n.deposit,o=n.withdraw;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:v.a.dashboard},r.a.createElement(g,{onTransaction:this.handleTransaction}),r.a.createElement(T,{balance:a,income:c,expenses:o}),t.length>0&&r.a.createElement(S,{items:t}),r.a.createElement(d.a,null)))}}]),t}(n.Component),P=function(){return r.a.createElement(H,null)};o.a.render(r.a.createElement(P,null),document.getElementById("root"))},4:function(e,t,a){e.exports={balance:"Balance_balance__1BCQ3",balance__text:"Balance_balance__text__J4F-G",income:"Balance_income__3LAlw Balance_balance__text__J4F-G",expenses:"Balance_expenses__3tdO9 Balance_balance__text__J4F-G"}}},[[21,1,2]]]);
//# sourceMappingURL=main.acdd5d52.chunk.js.map